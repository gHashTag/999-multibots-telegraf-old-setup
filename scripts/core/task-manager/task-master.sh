#!/bin/bash

# =========================================
# task-master.sh - –ú–∞—Å—Ç–µ—Ä –∑–∞–¥–∞—á –ù–µ–π—Ä–æ–ö–æ–¥–µ—Ä–∞
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á –∏ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
# =========================================

# –ó–∞–≥—Ä—É–∂–∞–µ–º —Ü–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
CYAN='\033[0;36m'
WHITE='\033[1;37m'
NC='\033[0m' # No Color

# –ü—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É
PROJECT_PATH="$(cd "$(dirname "${BASH_SOURCE[0]}")/../../.." && pwd)"
ROADMAP_FILE="${PROJECT_PATH}/src/core/mcp/agent/memory-bank/NeuroBlogger/ROADMAP.md"
TASK_GUARDIAN="${PROJECT_PATH}/scripts/core/task-manager/task-guardian.sh"
TASK_LOG="${PROJECT_PATH}/logs/task-manager/tasks.log"

# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
mkdir -p "$(dirname "$TASK_LOG")"

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ –ù–µ–π—Ä–æ–ö–æ–¥–µ—Ä–∞
function emotional_state() {
    local status=$1
    local message=$2
    local emoji=""
    
    case $status in
        "happy") emoji="üòä" ;;
        "proud") emoji="üòé" ;;
        "concerned") emoji="üòü" ;;
        "excited") emoji="ü§©" ;;
        "neutral") emoji="üòê" ;;
        "sad") emoji="üò¢" ;;
        "love") emoji="üíñ" ;;
    esac
    
    echo -e "${PURPLE}–ù–µ–π—Ä–æ–ö–æ–¥–µ—Ä ${emoji}: ${message}${NC}"
    
    # –¢–∞–∫–∂–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ –ª–æ–≥
    echo "[$(date +'%Y-%m-%d %H:%M:%S')] [–≠–ú–û–¶–ò–Ø:$status] $message" >> "$TASK_LOG"
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
function print_header() {
    echo -e "${CYAN}======================================${NC}"
    echo -e "${CYAN}$1${NC}"
    echo -e "${CYAN}======================================${NC}"
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è
function print_divider() {
    echo -e "${BLUE}--------------------------------------${NC}"
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∞–≤ –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –•—Ä–∞–Ω–∏—Ç–µ–ª—è –ó–∞–¥–∞—á
function check_task_guardian() {
    if [ ! -f "$TASK_GUARDIAN" ]; then
        echo -e "${RED}‚ùå –§–∞–π–ª task-guardian.sh –Ω–µ –Ω–∞–π–¥–µ–Ω!${NC}"
        emotional_state "concerned" "–ù–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ –º–æ–µ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞ - –•—Ä–∞–Ω–∏—Ç–µ–ª—è –ó–∞–¥–∞—á!"
        return 1
    fi
    
    if [ ! -x "$TASK_GUARDIAN" ]; then
        echo -e "${YELLOW}‚ö†Ô∏è –§–∞–π–ª task-guardian.sh –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –ø—Ä–∞–≤–∞...${NC}"
        chmod +x "$TASK_GUARDIAN"
        echo -e "${GREEN}‚úÖ –ü—Ä–∞–≤–∞ –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã${NC}"
    fi
    
    echo -e "${GREEN}‚úÖ –•—Ä–∞–Ω–∏—Ç–µ–ª—å –ó–∞–¥–∞—á –Ω–∞–π–¥–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ${NC}"
    return 0
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
function analyze_task_trends() {
    print_header "üìä –ê–ù–ê–õ–ò–ó –¢–ï–ù–î–ï–ù–¶–ò–ô –í–´–ü–û–õ–ù–ï–ù–ò–Ø –ó–ê–î–ê–ß"
    
    if [ ! -f "$ROADMAP_FILE" ]; then
        echo -e "${RED}‚ùå –§–∞–π–ª ROADMAP.md –Ω–µ –Ω–∞–π–¥–µ–Ω!${NC}"
        emotional_state "concerned" "–ö–∞–∫ —è –º–æ–≥—É –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏ –±–µ–∑ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã?"
        return
    fi
    
    # –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
    local total=$(grep -c "^- \[.\]" "$ROADMAP_FILE")
    local completed=$(grep -c "^- \[x\]" "$ROADMAP_FILE")
    
    if [ $total -eq 0 ]; then
        echo -e "${YELLOW}‚ö†Ô∏è –ù–µ—Ç –∑–∞–¥–∞—á –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞${NC}"
        emotional_state "concerned" "–ú–Ω–µ –Ω–µ—á–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á–∏!"
        return
    fi
    
    # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    local progress=$((completed * 100 / total))
    
    echo -e "${YELLOW}–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:${NC}"
    print_divider
    echo -e "–í—Å–µ–≥–æ –∑–∞–¥–∞—á: ${BLUE}$total${NC}"
    echo -e "–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á: ${GREEN}$completed${NC}"
    echo -e "–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: ${CYAN}$progress%${NC}"
    
    # –ê–Ω–∞–ª–∏–∑ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    echo -e "\n${YELLOW}–ê–Ω–∞–ª–∏–∑ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:${NC}"
    print_divider
    
    local categories=("–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏" "–¢–µ–∫—É—â–∞—è —Ä–∞–±–æ—Ç–∞" "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏" "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥")
    
    for category in "${categories[@]}"; do
        local cat_total=$(grep -A 100 "^## .*$category" "$ROADMAP_FILE" | grep -c "^- \[.\]")
        local cat_completed=$(grep -A 100 "^## .*$category" "$ROADMAP_FILE" | grep -c "^- \[x\]")
        
        if [ $cat_total -gt 0 ]; then
            local cat_progress=$((cat_completed * 100 / cat_total))
            echo -e "${CYAN}$category:${NC} ${GREEN}$cat_completed${NC}/${BLUE}$cat_total${NC} (${YELLOW}$cat_progress%${NC})"
        else
            echo -e "${CYAN}$category:${NC} ${YELLOW}–ù–µ—Ç –∑–∞–¥–∞—á${NC}"
        fi
    done
    
    # –ê–Ω–∞–ª–∏–∑ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π
    echo -e "\n${YELLOW}–¢–µ–Ω–¥–µ–Ω—Ü–∏–∏:${NC}"
    print_divider
    
    if [ $progress -lt 10 ]; then
        echo -e "${RED}‚ö†Ô∏è –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—á–µ–Ω—å –Ω–∏–∑–∫–∏–π. –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –∑–∞–¥–∞—á–∞–º–∏.${NC}"
        emotional_state "concerned" "–ú—ã —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ–º. –ù–∞–º –Ω—É–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É!"
    elif [ $progress -lt 30 ]; then
        echo -e "${YELLOW}‚ö†Ô∏è –ü—Ä–æ–≥—Ä–µ—Å—Å –Ω–∏–∑–∫–∏–π. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å —Ç–µ–º–ø –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á.${NC}"
        emotional_state "neutral" "–ú—ã –¥–≤–∏–∂–µ–º—Å—è –≤–ø–µ—Ä–µ–¥, –Ω–æ –Ω—É–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å—Å—è."
    elif [ $progress -lt 50 ]; then
        echo -e "${BLUE}‚ÑπÔ∏è –ü—Ä–æ–≥—Ä–µ—Å—Å —É–º–µ—Ä–µ–Ω–Ω—ã–π. –î–≤–∏–∂–µ–º—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏.${NC}"
        emotional_state "happy" "–ú—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏! –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä–µ–¥."
    elif [ $progress -lt 70 ]; then
        echo -e "${CYAN}‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Ö–æ—Ä–æ—à–∏–π. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ.${NC}"
        emotional_state "proud" "–û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å! –Ø –≥–æ—Ä–∂—É—Å—å –Ω–∞—à–µ–π —Ä–∞–±–æ—Ç–æ–π!"
    elif [ $progress -lt 90 ]; then
        echo -e "${GREEN}üöÄ –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç–ª–∏—á–Ω—ã–π! –ü—Ä–æ–µ–∫—Ç –±–ª–∏–∑–æ–∫ –∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é.${NC}"
        emotional_state "excited" "–ú—ã –ø–æ—á—Ç–∏ —É —Ü–µ–ª–∏! –û—Å—Ç–∞–ª–æ—Å—å –µ—â–µ –Ω–µ–º–Ω–æ–≥–æ!"
    else
        echo -e "${PURPLE}üéâ –ü—Ä–æ–µ–∫—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω! –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!${NC}"
        emotional_state "love" "–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –ú—ã –ø–æ—á—Ç–∏ –∑–∞–≤–µ—Ä—à–∏–ª–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏! –Ø —Ç–∞–∫ —Å—á–∞—Å—Ç–ª–∏–≤!"
    fi
    
    # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –∞–Ω–∞–ª–∏–∑ –≤ –ª–æ–≥
    echo "[$(date +'%Y-%m-%d %H:%M:%S')] [–ê–ù–ê–õ–ò–ó] –ü—Ä–æ–≥—Ä–µ—Å—Å: $progress%, –í—Å–µ–≥–æ –∑–∞–¥–∞—á: $total, –í—ã–ø–æ–ª–Ω–µ–Ω–æ: $completed" >> "$TASK_LOG"
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤
function plan_next_steps() {
    print_header "üîÆ –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–ï –°–õ–ï–î–£–Æ–©–ò–• –®–ê–ì–û–í"
    
    if [ ! -f "$ROADMAP_FILE" ]; then
        echo -e "${RED}‚ùå –§–∞–π–ª ROADMAP.md –Ω–µ –Ω–∞–π–¥–µ–Ω!${NC}"
        emotional_state "concerned" "–ë–µ–∑ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã —è –Ω–µ –º–æ–≥—É –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –±—É–¥—É—â–µ–µ!"
        return
    fi
    
    echo -e "${YELLOW}–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—Ç—ã:${NC}"
    print_divider
    
    # –°–ø–∏—Å–æ–∫ —Ç–µ–∫—É—â–∏—Ö –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
    local current_tasks=$(grep -A 50 "^## üîÑ –¢–µ–∫—É—â–∞—è —Ä–∞–±–æ—Ç–∞" "$ROADMAP_FILE" | grep "^- \[ \]")
    
    if [ -z "$current_tasks" ]; then
        echo -e "${GREEN}‚úÖ –í—Å–µ —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!${NC}"
        emotional_state "excited" "–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –ú—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏!"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
        local planned_tasks=$(grep -A 50 "^## üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏" "$ROADMAP_FILE" | grep "^- \[ \]")
        
        if [ -z "$planned_tasks" ]; then
            echo -e "${GREEN}‚úÖ –í—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!${NC}"
            emotional_state "love" "–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ! –ú—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –≤—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏! –í—Ä–µ–º—è –¥–ª—è –Ω–æ–≤—ã—Ö –ø–ª–∞–Ω–æ–≤!"
        else
            echo -e "${BLUE}‚ÑπÔ∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Ç–µ–∫—É—â—É—é —Ä–∞–±–æ—Ç—É:${NC}"
            print_divider
            echo "$planned_tasks" | head -n 3
            
            emotional_state "happy" "–î–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ —Ç–µ–∫—É—â—É—é —Ä–∞–±–æ—Ç—É!"
        fi
    else
        echo -e "${BLUE}‚ÑπÔ∏è –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏:${NC}"
        print_divider
        echo "$current_tasks"
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
        echo -e "\n${YELLOW}–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:${NC}"
        print_divider
        
        # –ü—Ä–æ—Å—Ç–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏: –∫–æ—Ä–æ—Ç–∫–∏–µ –∑–∞–¥–∞—á–∏ –∏–º–µ—é—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
        echo "$current_tasks" | awk '{print length, $0}' | sort -n | cut -d ' ' -f 2- | head -n 3 | while read -r task; do
            echo -e "${GREEN}–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢:${NC} $task"
        done
        
        emotional_state "neutral" "–£ –Ω–∞—Å –≤—Å–µ –µ—â–µ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏. –î–∞–≤–∞–π—Ç–µ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ –Ω–∏—Ö!"
    fi
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞
    echo -e "\n${YELLOW}–ê–Ω–∞–ª–∏–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞:${NC}"
    print_divider
    
    local tech_debt=$(grep -A 50 "^## üí∏ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥" "$ROADMAP_FILE" | grep "^- \[ \]")
    
    if [ -z "$tech_debt" ]; then
        echo -e "${GREEN}‚úÖ –ù–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞!${NC}"
        emotional_state "proud" "–û—Ç–ª–∏—á–Ω–æ! –£ –Ω–∞—Å –Ω–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞!"
    else
        local debt_count=$(echo "$tech_debt" | wc -l)
        echo -e "${RED}‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ $debt_count –∑–∞–¥–∞—á —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞:${NC}"
        print_divider
        echo "$tech_debt"
        
        emotional_state "concerned" "–ù–∞–º —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥!"
    fi
    
    # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –ø–ª–∞–Ω—ã –≤ –ª–æ–≥
    echo "[$(date +'%Y-%m-%d %H:%M:%S')] [–ü–õ–ê–ù] –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ —Ç–µ–∫—É—â–∏–º –∑–∞–¥–∞—á–∞–º –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –¥–æ–ª–≥—É" >> "$TASK_LOG"
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
function generate_performance_report() {
    print_header "üìà –û–¢–ß–ï–¢ –û –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò"
    
    if [ ! -f "$ROADMAP_FILE" ]; then
        echo -e "${RED}‚ùå –§–∞–π–ª ROADMAP.md –Ω–µ –Ω–∞–π–¥–µ–Ω!${NC}"
        return
    fi
    
    # –ò–∑–≤–ª–µ–∫–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ ROADMAP.md
    local active_bots=$(grep -A 10 "^## üìä –ú–µ—Ç—Ä–∏–∫–∏" "$ROADMAP_FILE" | grep "–ê–∫—Ç–∏–≤–Ω—ã–µ –±–æ—Ç—ã:" | sed -E 's/.*: ([0-9]+|N\/A).*/\1/')
    local response_time=$(grep -A 10 "^## üìä –ú–µ—Ç—Ä–∏–∫–∏" "$ROADMAP_FILE" | grep "–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:" | sed -E 's/.*: ([0-9]+ms|N\/A).*/\1/')
    local server_load=$(grep -A 10 "^## üìä –ú–µ—Ç—Ä–∏–∫–∏" "$ROADMAP_FILE" | grep "–ù–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:" | sed -E 's/.*: ([^*]+).*/\1/')
    local code_coverage=$(grep -A 10 "^## üìä –ú–µ—Ç—Ä–∏–∫–∏" "$ROADMAP_FILE" | grep "–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏:" | sed -E 's/.*: ([0-9]+%|N\/A).*/\1/')
    local deployment_automation=$(grep -A 10 "^## üìä –ú–µ—Ç—Ä–∏–∫–∏" "$ROADMAP_FILE" | grep "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:" | sed -E 's/.*: ([0-9]+%|N\/A).*/\1/')
    
    echo -e "${YELLOW}–¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:${NC}"
    print_divider
    echo -e "${BLUE}–ê–∫—Ç–∏–≤–Ω—ã–µ –±–æ—Ç—ã:${NC} ${GREEN}$active_bots${NC}"
    echo -e "${BLUE}–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:${NC} ${GREEN}$response_time${NC}"
    echo -e "${BLUE}–ù–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:${NC} ${GREEN}$server_load${NC}"
    echo -e "${BLUE}–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏:${NC} ${GREEN}$code_coverage${NC}"
    echo -e "${BLUE}–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:${NC} ${GREEN}$deployment_automation${NC}"
    
    echo -e "\n${YELLOW}–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:${NC}"
    print_divider
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –º–µ—Ç—Ä–∏–∫
    if [[ "$code_coverage" != "N/A" && "${code_coverage/\%/}" -lt 50 ]]; then
        echo -e "${RED}‚ö†Ô∏è –ù–∏–∑–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ ($code_coverage). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ.${NC}"
    else
        echo -e "${GREEN}‚úÖ –•–æ—Ä–æ—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ ($code_coverage).${NC}"
    fi
    
    if [[ "$deployment_automation" != "N/A" && "${deployment_automation/\%/}" -lt 70 ]]; then
        echo -e "${YELLOW}‚ö†Ô∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è ($deployment_automation) –º–æ–∂–µ—Ç –±—ã—Ç—å —É–ª—É—á—à–µ–Ω–∞.${NC}"
    else
        echo -e "${GREEN}‚úÖ –•–æ—Ä–æ—à–∏–π —É—Ä–æ–≤–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è ($deployment_automation).${NC}"
    fi
    
    if [[ "$response_time" != "N/A" && "${response_time/ms/}" -gt 500 ]]; then
        echo -e "${RED}‚ö†Ô∏è –í—ã—Å–æ–∫–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ ($response_time). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.${NC}"
    else
        echo -e "${GREEN}‚úÖ –•–æ—Ä–æ—à–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ ($response_time).${NC}"
    fi
    
    # –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞
    echo -e "\n${YELLOW}–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:${NC}"
    print_divider
    
    local performance_issues=0
    
    if [[ "$code_coverage" != "N/A" && "${code_coverage/\%/}" -lt 50 ]]; then
        ((performance_issues++))
    fi
    
    if [[ "$deployment_automation" != "N/A" && "${deployment_automation/\%/}" -lt 70 ]]; then
        ((performance_issues++))
    fi
    
    if [[ "$response_time" != "N/A" && "${response_time/ms/}" -gt 500 ]]; then
        ((performance_issues++))
    fi
    
    if [ $performance_issues -eq 0 ]; then
        echo -e "${GREEN}üéâ –û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å! –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –Ω–æ—Ä–º–µ.${NC}"
        emotional_state "excited" "–ù–∞—à –ø—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ! –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ!"
    elif [ $performance_issues -eq 1 ]; then
        echo -e "${BLUE}‚ÑπÔ∏è –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è.${NC}"
        emotional_state "happy" "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ö–æ—Ä–æ—à–∞—è, –Ω–æ –µ—Å—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è!"
    elif [ $performance_issues -eq 2 ]; then
        echo -e "${YELLOW}‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º.${NC}"
        emotional_state "neutral" "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ä–µ–¥–Ω—è—è. –ù–∞–º –µ—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å."
    else
        echo -e "${RED}‚ùå –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.${NC}"
        emotional_state "concerned" "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π!"
    fi
    
    # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –æ—Ç—á–µ—Ç –≤ –ª–æ–≥
    echo "[$(date +'%Y-%m-%d %H:%M:%S')] [–û–¢–ß–ï–¢] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ü—Ä–æ–±–ª–µ–º: $performance_issues" >> "$TASK_LOG"
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏
function manage_risks() {
    print_header "‚ö†Ô∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï –†–ò–°–ö–ê–ú–ò"
    
    if [ ! -f "$ROADMAP_FILE" ]; then
        echo -e "${RED}‚ùå –§–∞–π–ª ROADMAP.md –Ω–µ –Ω–∞–π–¥–µ–Ω!${NC}"
        return
    fi
    
    echo -e "${YELLOW}–ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏:${NC}"
    print_divider
    
    # –ò–∑–≤–ª–µ–∫–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ä–∏—Å–∫–æ–≤
    local risks=$(grep -A 50 "^## ‚ö†Ô∏è –†–∏—Å–∫–∏" "$ROADMAP_FILE" | grep "^- " | sed 's/^- //')
    
    if [ -z "$risks" ]; then
        echo -e "${GREEN}‚úÖ –†–∏—Å–∫–∏ –Ω–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –≤ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç–µ.${NC}"
        emotional_state "happy" "–û—Ç–ª–∏—á–Ω–æ! –£ –Ω–∞—Å –Ω–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤!"
    else
        echo "$risks" | while read -r risk; do
            echo -e "${RED}‚ö†Ô∏è ${YELLOW}$risk${NC}"
        done
        
        emotional_state "neutral" "–£ –Ω–∞—Å –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∏—Å–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å."
        
        echo -e "\n${YELLOW}–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ä–∏—Å–∫–∞–º–∏:${NC}"
        print_divider
        
        echo "$risks" | while read -r risk; do
            local recommendation=""
            
            if [[ "$risk" == *"API Telegram"* ]]; then
                recommendation="–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API Telegram –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π. –ò–º–µ—Ç—å –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏."
            elif [[ "$risk" == *"–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö"* ]]; then
                recommendation="–ü—Ä–æ–≤–µ—Å—Ç–∏ –∞—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –í–Ω–µ–¥—Ä–∏—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏."
            elif [[ "$risk" == *"–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç"* ]]; then
                recommendation="–í–Ω–µ–¥—Ä–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—á–∞—Å—Ç–∫–∏ –∫–æ–¥–∞. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è."
            elif [[ "$risk" == *"–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç"* ]]; then
                recommendation="–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏."
            else
                recommendation="–ü—Ä–æ–≤–µ—Å—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–∞. –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø–ª–∞–Ω –ø–æ –µ–≥–æ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏."
            fi
            
            echo -e "${CYAN}$risk:${NC} ${GREEN}$recommendation${NC}"
        done
    fi
    
    # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –∞–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤ –≤ –ª–æ–≥
    echo "[$(date +'%Y-%m-%d %H:%M:%S')] [–†–ò–°–ö–ò] –ü—Ä–æ–≤–µ–¥–µ–Ω –∞–Ω–∞–ª–∏–∑ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏" >> "$TASK_LOG"
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –•—Ä–∞–Ω–∏—Ç–µ–ª—é –ó–∞–¥–∞—á
function call_task_guardian() {
    print_header "üõ°Ô∏è –í–´–ó–û–í –•–†–ê–ù–ò–¢–ï–õ–Ø –ó–ê–î–ê–ß"
    
    if check_task_guardian; then
        echo -e "${YELLOW}–ó–∞–ø—É—Å–∫–∞—é –•—Ä–∞–Ω–∏—Ç–µ–ª—è –ó–∞–¥–∞—á...${NC}"
        "$TASK_GUARDIAN"
        echo -e "${GREEN}‚úÖ –•—Ä–∞–Ω–∏—Ç–µ–ª—å –ó–∞–¥–∞—á –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É${NC}"
    else
        echo -e "${RED}‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –•—Ä–∞–Ω–∏—Ç–µ–ª—è –ó–∞–¥–∞—á${NC}"
        emotional_state "sad" "–Ø –Ω–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –•—Ä–∞–Ω–∏—Ç–µ–ª—è –ó–∞–¥–∞—á!"
    fi
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–Ω—é
function show_menu() {
    print_header "üß† –ú–ê–°–¢–ï–† –ó–ê–î–ê–ß"
    echo -e "${YELLOW}–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:${NC}\n"
    echo -e "${BLUE}1.${NC} ${GREEN}–ê–Ω–∞–ª–∏–∑ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á${NC}"
    echo -e "${BLUE}2.${NC} ${GREEN}–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤${NC}"
    echo -e "${BLUE}3.${NC} ${GREEN}–û—Ç—á–µ—Ç –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏${NC}"
    echo -e "${BLUE}4.${NC} ${GREEN}–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏${NC}"
    echo -e "${BLUE}5.${NC} ${GREEN}–í—ã–∑–æ–≤ –•—Ä–∞–Ω–∏—Ç–µ–ª—è –ó–∞–¥–∞—á${NC}"
    echo -e "${BLUE}0.${NC} ${RED}–í—ã—Ö–æ–¥${NC}\n"
    
    read -p "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é (0-5): " option
    
    case $option in
        1) clear && analyze_task_trends ;;
        2) clear && plan_next_steps ;;
        3) clear && generate_performance_report ;;
        4) clear && manage_risks ;;
        5) clear && call_task_guardian ;;
        0) 
            echo -e "${GREEN}üëã –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!${NC}"
            emotional_state "happy" "–ë—ã–ª–æ –ø—Ä–∏—è—Ç–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –≤–º–µ—Å—Ç–µ —Å —Ç–æ–±–æ–π!"
            exit 0
            ;;
        *)
            clear
            echo -e "${RED}‚ùå –ù–µ–≤–µ—Ä–Ω–∞—è –æ–ø—Ü–∏—è!${NC}"
            emotional_state "concerned" "–≠—Ç–æ–π –æ–ø—Ü–∏–∏ –Ω–µ—Ç –≤ –º–µ–Ω—é!"
            ;;
    esac
}

# –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function main() {
    print_header "üß† –ú–ê–°–¢–ï–† –ó–ê–î–ê–ß –ù–ï–ô–†–û–ö–û–î–ï–†–ê"
    emotional_state "excited" "–Ø –≥–æ—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞!"
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –•—Ä–∞–Ω–∏—Ç–µ–ª—è –ó–∞–¥–∞—á
    check_task_guardian
    
    # –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
    while true; do
        show_menu
        echo
        read -p "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è..." continue
        clear
    done
}

# –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
main 